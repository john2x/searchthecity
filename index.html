<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Search the City by john2x</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Search the City</h1>
        <h2>RESTful API for magiccards.info</h2>
        <a href="https://github.com/john2x/searchthecity" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="searchthecityme" class="anchor" href="#searchthecityme"><span class="octicon octicon-link"></span></a>searchthecity.me</h1>

<p>RESTful API for <a href="http://magiccards.info">magiccards.info</a>.</p>

<p>Supports the same <a href="http://magiccards.info/syntax.html">syntax</a>.</p>

<h2>
<a name="example" class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h2>

<p><code>http://api.searchthecity.me/query?q=goblins</code></p>

<pre><code>{ "cards" : [ 
      { "attrs" : {
            "cmc" : "1",
            "loyalty" : null,
            "manacost" : "R",
            "power" : "1",
            "subtype" : "Goblin Warrior",
            "toughness" : "1",
            "type" : "Creature"
          },
        "flavor-text" : "",
        "img" : "http://magiccards.info/scans/en/ch/51.jpg",
        "name" : "Goblins of the Flarg",
        "rules-text" : "Mountainwalk\n\nWhen you control a Dwarf, sacrifice Goblins of the Flarg.",
        "url" : "http://magiccards.info/ch/en/51.html"
      }, ...
    ],
  "pagination" : { "cards-per-page" : 20,
      "current-page" : 1,
      "total-cards" : 5,
      "total-pages" : 1
    }
}
</code></pre>

<h2>
<a name="running-locally" class="anchor" href="#running-locally"><span class="octicon octicon-link"></span></a>Running locally</h2>

<p>You'll need <a href="https://github.com/technomancy/leiningen">Leiningen 2</a></p>

<pre><code>$ git clone git@github.com:john2x/searchthecity.git
$ cd searchthecity/
$ lein ring server
  # navigate to http://localhost:3000 (lein ring server should also do it for you though)
</code></pre>

<h2>
<a name="deploying" class="anchor" href="#deploying"><span class="octicon octicon-link"></span></a>Deploying</h2>

<p>Unfortunately I'm not an expert on deployment strategies for Java/Clojure web apps. 
Would love to have some input on how to propery serve Clojure web apps, especially the "setting up Jetty/Tomcat properly and making it work with Nginx" part.</p>

<p>But running <code>lein ring uberwar</code> and sticking the resulting .war file onto a server running Tomcat worked for me. </p>

<h2>
<a name="questions" class="anchor" href="#questions"><span class="octicon octicon-link"></span></a>Questions</h2>

<p>Contact <a href="https://twitter.com/john2x">@john2x</a> or submit an issue on <a href="https://github.com/john2x/searchthecity">GitHub</a>.</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT (see <a href="https://github.com/john2x/searchthecity/blob/master/LICENSE"></a><code>LICENSE</code></a> file)</p>

<p>Copyright Â© 2013 John Louis Del Rosario</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/john2x/searchthecity/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/john2x/searchthecity/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/john2x/searchthecity"></a> is maintained by <a href="https://github.com/john2x">john2x</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
